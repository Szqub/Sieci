1) Wersja / heartbeat
powershell
Kopiuj
Edytuj
[Net.ServicePointManager]::ServerCertificateValidationCallback={$true}; $u='api_USER';$s='SECRET';$cred=New-Object pscredential($u,(ConvertTo-SecureString $s -AsPlainText -Force)); try{(irm 'https://illumio-tst:8443/api/v2/product_version' -Authentication Basic -Credential $cred -Headers @{Accept='application/json'}).product_version.long_display}catch{(irm 'https://illumio-tst:8443/api/v2/noop' -Headers @{Accept='application/json'}).status}
2) Labels – liczba
powershell
Kopiuj
Edytuj
[Net.ServicePointManager]::ServerCertificateValidationCallback={$true}; $u='api_USER';$s='SECRET';$cred=New-Object pscredential($u,(ConvertTo-SecureString $s -AsPlainText -Force)); (irm 'https://illumio-tst:8443/api/v2/orgs/1/labels?max_results=5000' -Authentication Basic -Credential $cred -Headers @{Accept='application/json'}).Count
3) Workloads – liczba
powershell
Kopiuj
Edytuj
[Net.ServicePointManager]::ServerCertificateValidationCallback={$true}; $u='api_USER';$s='SECRET';$cred=New-Object pscredential($u,(ConvertTo-SecureString $s -AsPlainText -Force)); (irm 'https://illumio-tst:8443/api/v2/orgs/1/workloads?max_results=10000' -Authentication Basic -Credential $cred -Headers @{Accept='application/json'}).Count
4) Namespaces – liczba
(sumuje container_workload_profiles we wszystkich klastrach; jak brak klastrów – liczy unikalne z kubernetes_workloads)

powershell
Kopiuj
Edytuj
[Net.ServicePointManager]::ServerCertificateValidationCallback={$true}; $u='api_USER';$s='SECRET';$
